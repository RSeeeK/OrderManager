<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:rich="http://richfaces.org/rich">

<h:head>
    <title>Order detailed</title>
</h:head>
<h:body>
    <h:form>
        <h:panelGrid columns="2">
            <h:outputLabel value="Order â„–" />
            <h:inputText value="#{orderController.editOrder.number}" />

            <p>Email:
                <h:inputText id="email" value="#{orderController.editOrder.customerEmail}" label="Email" validatorMessage="Email is not valid">
                    <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                </h:inputText>
                <rich:message for="email" />
            </p>

        </h:panelGrid>

        <rich:extendedDataTable value="#{orderContentController.listOrderContentByOrder(orderController.editOrder)}" id="table" var="item" filterVar="filterVal">
            <rich:column><f:facet name="header">ID</f:facet>#{item.id}</rich:column>
            <rich:column><f:facet name="header">Product</f:facet>#{item.product}</rich:column>
            <rich:column><f:facet name="header">Price</f:facet>#{item.price}</rich:column>
            <rich:column><f:facet name="header">Count</f:facet>#{item.count}</rich:column>
            <rich:column><f:facet name="header">Summ</f:facet>#{item.sum}</rich:column>
        </rich:extendedDataTable>

        <h:panelGrid columns="2" cellpadding="5">
            <h:commandButton value="Save"
                             action="#{orderController.saveOrder}" />
            <h:commandButton value="Cancel"
                             action="#{orderController.cancel}"/>
        </h:panelGrid>
    </h:form>

    <rich:tooltip value="Please Enter Email " target="email"/>
</h:body>
</html>